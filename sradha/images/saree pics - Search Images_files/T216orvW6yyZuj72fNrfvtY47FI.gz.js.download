var QuickSearch;(function(n){function st(n,t){if(v){ct(n);return}yt?lt.test(_w.location.href)?ht(n,t):ct(n):ht(n,t)}function ht(n,t){var i;t?(i=t.sj_evt)===null||i===void 0?void 0:i.fire("showSydFSC",n,"",g):sj_evt.fire("showSydFSC",n,"",g)}function ct(n){var t=_w.location.protocol+"//"+_w.location.hostname+(v?"/chat?q=":"/search?q=")+encodeURIComponent(n)+"&showconv=1&sendquery=1&form=IPRV10";a?window.open(t):_w.location.href=t}function b(n){sb_st(function(){var tt,it,ut,ft,f,a,w,ot,b,lt,s,v,g,vt,st,y,p,ht,nt;if(l=null,NodeList.prototype.forEach||(NodeList.prototype.forEach=function(n,t){t=t||window;for(var i=0;i<this.length;i++)n.call(t,this[i],i,this)}),f=window.getSelection(),t=(tt=f===null||f===void 0?void 0:f.toString())!==null&&tt!==void 0?tt:"",a=_ge("qs_searchBox"),w=o?_ge("mfa_root"):null,!o||w!=null){var ct,et=!0;f!=null&&f.anchorNode!=null&&(ct=f.anchorNode.nodeValue||f.anchorNode.textContent,et=!rt.some(function(n){return n!=null&&n!=undefined?n.contains(f.anchorNode):!1}),f.anchorNode.childNodes!=null&&f.anchorNode.childNodes.forEach(function(n){(n.nodeName==="INPUT"||n.nodeName==="TEXTAREA")&&(et=!1)}));ot=!0;ui()||f.type=="Range"||(ot=!1);t.trim()!=""&&et&&ot&&u&&t.trim().length<2048?(sj_log("CI.QuickSearch","Text_Selected",t),lt=[/(\d+) ((\w+[ ,])+ ){2}(\d){5}[, ] ((\w+[ ,]?)+[ ,]?){2}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}-(\d){4}[, ] ((\w+[ ,]?)+[ ,]?){2}/g,/(\d+) (([\w#]+[ ,])+ ){2}([A-Z]){2} (\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}(\w+){2}[ ,]{2}(\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}([A-Z]){2} (\d){5}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}[ ,] ([A-Z]){2}/g,/(\d+) ((\w+[ ,])+ ){2}([A-Z]){2}/g,/(\d+) ((\w+[ ,])+ ){2}(\d){5}/g].some(function(n){var i=String(ct).match(n)||String(t).match(n);return i!=null&&(b=i[0]),i!=null}),b!=null&&b.indexOf(t)!==-1&&lt&&sj_log("CI.QuickSearch","Address_Selected",b),c||a===null||(s=f.getRangeAt(0).getBoundingClientRect(),v=!1,!at||s.top||s.bottom||(g=(it=f===null||f===void 0?void 0:f.getRangeAt(0))===null||it===void 0?void 0:it.startContainer,s=g===null||g===void 0?void 0:g.getBoundingClientRect(),v=!0),_ge("qs_selectedText").textContent=t,vt=document.createElement("canvas"),st=vt.getContext("2d"),st.font="bold "+window.getComputedStyle(document.body).font,y=st.measureText(t.trim()).width,p=null,p=n.clientX!=null?n.clientX-Math.min(y,h)-e>=s.left-e?n.clientX-Math.min(y,h)-e:s.left-e:_w.innerWidth-Math.min(y,h)-d<=s.left-e?_w.innerWidth-Math.min(y,h)-d:s.left-e,v&&n.clientX==null||(a.style.left=p+"px",a.style.top=v?n.clientY+window.pageYOffset+"px":s.bottom+window.pageYOffset+"px",a.style.display="inline-flex"),ht=Lib.CssClass.contains(_d.body,"b_sydConvMode"),i===null||ht||(nt=(ut=document.getElementById("qs_searchBox"))===null||ut===void 0?void 0:ut.clientWidth,i.style.left=p+nt+"px",i.style.top=s.bottom+window.pageYOffset+"px",i.style.display="inline-flex"),r!==null&&ht&&(nt=(ft=document.getElementById("qs_searchBox"))===null||ft===void 0?void 0:ft.clientWidth,r.style.left=p+nt+"px",r.style.top=v?n.clientY+window.pageYOffset+"px":s.bottom+window.pageYOffset+"px",r.style.display="inline-flex"),o&&(w.style.display="none"))):c||(k(),o&&(w.style.display="list-item"));u=!0}},1)}function k(){f!==null&&(f.style.display="none");i!==null&&(i.style.display="none");r!==null&&(r.style.display="none")}function ri(n){l&&sb_ct(l);var t=window.getSelection().toString();l=sb_st(function(){window.getSelection().toString()==t?b(n):c||(f.style.display="none")},500)}function ui(){return typeof _G!="undefined"&&_G.EF!==undefined&&_G.EF.getslctspt!==undefined&&_G.EF.getslctspt===1}var e=12,h=258,d=62,lt=new RegExp(_w.location.protocol+"//"+_w.location.hostname+"/search(/|\\?)","i"),g="QUICK_CHAT",c=typeof n.isCF=="undefined"?!1:n.isCF,at=typeof n.isCursor=="undefined"?!1:n.isCursor,nt=typeof n.isQuickChat=="undefined"?!1:n.isQuickChat,vt=typeof n.isQuickCopy=="undefined"?!1:n.isQuickCopy,yt=typeof n.enableNonSearchVert=="undefined"?!1:n.enableNonSearchVert,a=typeof n.enableNonSearchVertInNewTab=="undefined"?!1:n.enableNonSearchVertInNewTab,v=typeof n.enableChatPath=="undefined"?!1:n.enableChatPath,o=!!navigator.userAgent.match(/iphone|android|blackberry/ig)||!1,pt=!!navigator.userAgent.match(/ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP)))/ig)&&!navigator.userAgent.match(/Tablet PC/ig)||!1,tt=["www.bing.com","www2.bing.com","www4.bing.com","cn.bing.com","localhost","www.staging-bing-int.com","snrproxy.binginternal.com","snrproxyeast.binginternal.com","snrproxync.binginternal.com","snrproxysc.binginternal.com","snrproxywest.binginternal.com","cetonc.binginternal.com","cetosc.binginternal.com","cetowest.binginternal.com","cetoeast.binginternal.com","akam.bing.com","akam.staging-bing-int.com","ewlmaakam.staging-bing-int.com","akamproxyeast.staging-bing-int.com","akamproxync.staging-bing-int.com","akamproxysc.staging-bing-int.com","akamproxywest.staging-bing-int.com"],wt=_ge("b_header"),bt=document.getElementsByClassName("b_underSearchbox")[0],kt=_ge("b_tween"),dt=document.getElementsByClassName("b_rs")[0],gt=document.getElementsByClassName("b_pag")[0],ni=_ge("b_footer"),ti=_ge("ev_talkbox_wrapper"),ii=_ge("bnp_container"),it=_ge("b_sydTigerCont"),rt=[wt,bt,kt,dt,gt,ni,ti,ii];it&&rt.push(it);var t="",u=!0,l=null,f=null,s=null,ut=null,y=null,ft=null,i=null,p=null,et=null,r=null,w=null,ot=null;c||(f=sj_ce("a","qs_searchBox"),s=sj_ce("div","qs_searchBoxOuter"),ut=sj_ce("div","qs_selectedText"),y=sj_ce("div","qs_searchIconOuter"),ft=sj_ce("span","qs_searchIconInner"),sj_be(f,"click",function(){tt.indexOf(_w.location.hostname)!=-1&&(_w.open(_w.location.protocol+"//"+_w.location.hostname+"/search?q="+encodeURIComponent(t)+"&form=IPRV10"),Log&&Log.Log&&Log.Log("CI.QuickSearch","New_Webpage_Opened",""),u=!1)}),(nt||a)&&(i=sj_ce("a","qs_chatBox"),p=sj_ce("div","qs_chatIconOuter"),et=sj_ce("span","qs_chatIconInner"),p.appendChild(et),i.appendChild(p),s.appendChild(i)),nt?sj_be(i,"click",function(){if(_w.SydFSCHelper){var n=_w.SydFSCHelper.isSydFSCEligible;n?_w.SydFSCHelper.LogIntEvent("ConversationViewEnter","QuickChat",{source:"QuickSearchClick"}):_w.SydFSCHelper.LogIntEvent("ConvesationPayWallEnter","QuickChat",{source:"QuickSearchClick"})}st(t);u=!1;Log&&Log.Log&&Log.Log("CI.QuickChat","Quick_Conversation_Mode_Opened",t)}):a&&sj_be(i,"click",function(){if(tt.indexOf(_w.location.hostname)!=-1){var n=t,i=_w.open(_w.location.protocol+"//"+_w.location.hostname+(v?"/chat?sendquery=1&q=":"/search?q=")+encodeURIComponent(t)+"&form=IPRV10&seltone=b");setTimeout(function(){if(_w.SydFSCHelper){var n=_w.SydFSCHelper.isSydFSCEligible;n?_w.SydFSCHelper.LogIntEvent("ConversationViewEnter","QuickChat",{source:"QuickSearchClick"}):_w.SydFSCHelper.LogIntEvent("ConvesationPayWallEnter","QuickChat",{source:"QuickSearchClick"})}st(t,i)},800);u=!1;Log&&Log.Log&&Log.Log("CI.QuickChat","Quick_Conversation_Mode_Opened_New",n)}}),vt&&(r=sj_ce("a","qs_copyBox"),w=sj_ce("div","qs_copyIconOuter"),ot=sj_ce("span","qs_copyIconInner"),w.appendChild(ot),r.appendChild(w),s.appendChild(r),sj_be(r,"mousedown",function(){var n=document.createElement("textarea");n.value=t;document.body.appendChild(n);n.select();document.execCommand("copy");document.body.removeChild(n);sj_log("CI.QuickSearch","Copy_Clicked",t);u=!1})),y.appendChild(ft),f.appendChild(ut),f.appendChild(y),s.appendChild(f),_d.body.appendChild(s),sj_evt.bind("showSydFSC",function(){k();u=!1}),sj_evt.bind("hideSydFSC",function(){k();u=!1}));o||pt?_d.addEventListener("selectionchange",ri):(_d.addEventListener("mouseup",b),_d.addEventListener("keyup",b))})(QuickSearch||(QuickSearch={}))